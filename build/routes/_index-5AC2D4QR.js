import{a as v}from"/build/_shared/chunk-GSZ55Z4I.js";import{b as E,h as L,o as y,p as S,r as k}from"/build/_shared/chunk-LQHNFRB2.js";import{E as c,d as o,f as h,y as w,z as x}from"/build/_shared/chunk-BTMT523O.js";var a=o(h()),D=o(v());var s=o(h()),f=o(c()),A=m=>{let{children:i,loading:u,loadNext:n}=m,l=(0,s.useRef)(n);(0,s.useEffect)(()=>{l.current=n},[n]);let e=()=>{let p=document.documentElement.scrollHeight-10,t=Math.floor(window.innerHeight+window.scrollY);p<=t&&!u&&l.current()};return(0,s.useEffect)(()=>(typeof window!="undefined"&&window.addEventListener("scroll",e),e(),()=>{window.removeEventListener("scroll",e)}),[]),(0,f.jsx)(f.Fragment,{children:i})};var r=o(c());function I(){let{assets:m}=w(),[i,u]=(0,a.useState)(m),[n,l]=(0,a.useState)(!1),e=x(),d="loading";return(0,a.useEffect)(()=>{if(!e.data||e.state===d||e.data.detail)return;if(e.data.assets.length===0){l(!0);return}let t=e.data.assets;u(g=>[...g,...t])},[e.data]),(0,r.jsxs)(A,{loadNext:()=>{if(n)return;let t=`?index&offset=${i.length}`;e.load(t)},loading:e.state===d,children:[(0,r.jsx)(S,{templateColumns:{base:"repeat(1, 1fr)",md:"repeat(2, 1fr)"},padding:"1rem",gap:"0.5rem",justifyItems:"center",children:i.map(t=>(0,r.jsxs)(y,{href:`/${t.asset_contract.address}/${t.token_id}`,children:[(0,r.jsx)(L,{src:t.image_url,alt:t.description,margin:"0 auto 0.25rem"}),(0,r.jsx)(k,{textAlign:"center",children:t.name})]},t.id))}),e.state===d&&(0,r.jsx)(E,{})]})}export{I as default};
